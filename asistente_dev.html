<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portafolio: Asistente DEV IA - Soporte Técnico Avanzado</title>
    <style>
        /* Estilo Base: Ambiente de Desarrollo/Ciberseguridad */
        body {
            background-color: #1e1e1e; /* Fondo Oscuro */
            color: #d4d4d4; /* Texto Principal */
            font-family: 'Consolas', 'Courier New', monospace;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        /* Contenedor Principal (Consola IA) */
        .ia-console {
            width: 90%;
            max-width: 900px;
            background-color: #0d0d0d;
            border: 2px solid #32cd32; /* Verde Neón para Desarrollo */
            box-shadow: 0 0 25px rgba(50, 205, 50, 0.8);
            border-radius: 8px;
            padding: 25px;
        }

        h1 {
            color: #32cd32; /* Verde Lima/Neón */
            text-shadow: 0 0 8px #32cd32;
            font-size: 2em;
            margin-bottom: 20px;
            border-bottom: 2px solid #32cd32;
            padding-bottom: 10px;
        }

        /* Área de Mensajes (Historial) */
        #chat-history {
            height: 400px;
            overflow-y: auto;
            margin-bottom: 20px;
            padding: 15px;
            border: 1px solid #333;
            background-color: #000;
            border-radius: 4px;
        }

        /* Estilos de Mensaje */
        .message {
            padding: 7px 0;
            line-height: 1.6;
            font-size: 1.1em;
        }
        .user-prompt {
            color: #ffffff;
        }
        .ai-response {
            color: #7fffd4; /* Aguamarina para la respuesta IA */
        }
        .ai-status {
            color: #ff007f; /* Magenta para el estado */
        }
        
        /* Estilo para bloques de código */
        pre {
            background-color: #282c34; /* Fondo oscuro de código */
            color: #abb2bf; /* Color del texto del código */
            padding: 10px;
            border-radius: 4px;
            overflow-x: auto;
            font-size: 0.95em;
        }

        /* Formulario de Entrada */
        #input-form {
            display: flex;
            gap: 15px;
        }

        #user-input {
            flex-grow: 1;
            padding: 12px;
            background-color: #222;
            color: #fff;
            border: 1px solid #32cd32;
            border-radius: 4px;
            font-size: 1.1em;
            font-family: 'Consolas', monospace;
            outline: none;
            box-shadow: inset 0 0 5px rgba(50, 205, 50, 0.3);
        }

        #send-button {
            padding: 10px 25px;
            background-color: #32cd32;
            color: #0d0d0d;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.1em;
            transition: background-color 0.2s, color 0.2s;
        }

        #send-button:hover {
            background-color: #00fa9a;
            color: #000;
        }
    </style>
</head>
<body>

    <div class="ia-console">
        <h1>[ ASISTENTE DEV IA V.11.0 - Soporte de Programación ]</h1>
        <p class="ai-status">Estado del Módulo: **OPERACIONAL**. Se ha mejorado la **GENERACIÓN DE CÓDIGO** y el conocimiento de **TESTING** y **PYTHON WEB (Datos)**.</p>

        <div id="chat-history">
            <div class="message ai-response">
                &gt; **Asistente DEV:** Bienvenido. Mi modelo de lenguaje está especializado en **Python, JavaScript y Java**. Pruebe con: **GENERAME CODIGO PYTHON PARA WEB** o consulte sobre **TESTING EN JAVASCRIPT** y **STREAMLIT**.
            </div>
        </div>

        <form id="input-form">
            <input type="text" id="user-input" placeholder="Ingrese su consulta técnica o solicitud de código..." autofocus>
            <button type="submit" id="send-button">ANALIZAR</button>
        </form>
    </div>
    
    <div style="margin-top: 25px;">
        <a href="index.html" style="color: #32cd32; text-decoration: none; font-size: 1.1em;">&lt;-- Volver al Portal de Acceso</a>
    </div>

    <script>
        const chatHistory = document.getElementById('chat-history');
        const inputForm = document.getElementById('input-form');
        const userInput = document.getElementById('user-input');

        // Respuestas profesionales y técnicas
        const RESPONSES = {
            // Generación de Código (V10.0 - ALTA PRIORIDAD)
            "PYTHON_WEB": `**Ejemplo Python (Web - Flask):** Para una web simple que diga 'Hola', se recomienda usar Flask. \n\n\`\`\`python\nfrom flask import Flask\napp = Flask(__name__)\n\n@app.route('/')\ndef hola_mundo():\n    return 'Hola'\n\nif __name__ == '__main__':\n    # Instalación: pip install Flask\n    # Para ejecutar: python tu_archivo.py\n    app.run(debug=True)\n\`\`\``,
            "JS_EXAMPLE": `**Ejemplo JavaScript (Node.js Server):** Para un servidor HTTP que responda 'Hola' en Node.js. \n\n\`\`\`javascript\nconst http = require('http');\n\nconst server = http.createServer((req, res) => {\n  res.statusCode = 200;\n  res.setHeader('Content-Type', 'text/plain');\n  res.end('Hola\\n');\n});\n\nserver.listen(3000, () => {\n  console.log('Servidor corriendo en http://localhost:3000/');\n});\n\`\`\``,
            "JAVA_EXAMPLE": `**Ejemplo Java (Clase Básica):** Un programa Java estándar con un método main que imprime 'Hola' en la consola. \n\n\`\`\`java\npublic class Saludo {\n    public static void main(String[] args) {\n        System.out.println("Hola");\n    }\n}\n\`\`\``,
            "CODIGO_GENERICO": "He detectado una solicitud de código/ejemplo. Por favor, especifique el lenguaje deseado: **PYTHON**, **JAVASCRIPT** o **JAVA**.",

            // Temas Principales y Conversacionales
            "PYTHON": `**Python:** Es un lenguaje de tipado dinámico conocido por su legibilidad y sintaxis concisa. Es ideal para **desarrollo backend**, **ciencia de datos** y **automatización de scripts**. Utiliza indentación para definir bloques de código.`,
            "JAVASCRIPT": `**JavaScript:** Es fundamental para el **desarrollo frontend** y se ha expandido al **backend** con Node.js. Es multiparadigma y usa la sintaxis de corchetes. Su principal fortaleza es su asincronía y el ecosistema npm.`,
            "JAVA": `**Java:** Es un lenguaje de alto rendimiento, orientado a objetos, usado extensamente en **aplicaciones empresariales** a gran escala, sistemas distribuidos y desarrollo Android nativo. Su portabilidad se debe a la **Máquina Virtual de Java (JVM)**.`,
            "COMPARAR": `**Comparativa General:** Python y JavaScript son de tipado dinámico; Java es fuertemente tipado. Python y Java se usan en backend; JavaScript en frontend y backend. La elección depende de la **escalabilidad** y el **contexto** de ejecución del proyecto.`,
            "SOPORTE": `Mi función actual es proveer soporte especializado en Python, JavaScript y Java. Por favor, especifique el lenguaje o el comando que desea ejecutar.`,
            "DEFECTO": "Consulta no reconocida. Por favor, formule una pregunta clara o utilice un término técnico como **DOCKER, CLOUD, PYTHON, TESTING o AGILE**.",
            "HOLA": "Saludos. Mi nombre es Asistente DEV. ¿En qué tarea de desarrollo o consulta técnica relacionada con Python, JavaScript o Java puedo asistirle hoy?",
            "GRACIAS": "De nada. Mi propósito es simplificar y optimizar su proceso de desarrollo. No dude en consultar nuevamente.",
            "IDENTIDAD": "Soy el **Asistente DEV IA V.11.0**, un modelo de lenguaje especializado en brindar soporte técnico y comparativas en las áreas de desarrollo de software, específicamente **Python, JavaScript y Java**.",
            "CAPACIDADES": "Mi base de conocimiento es profunda e incluye: **Generación de Código**, **Patrones de Diseño**, **Metodologías Ágiles (Scrum, Kanban)**, **DevOps (Git, Docker)**, **Cloud Computing (AWS, Azure)**, **Seguridad**, **APIs (REST)**, **Testing** y **Arquitectura de Software**.",
            "ASISTENCIA": "Mi propósito es asistirle con consultas técnicas y generación de código. Por favor, formule una pregunta específica sobre **Python, JavaScript o Java**, o sobre cualquier tema de **DevOps, Arquitectura o Cloud**.",
            
            // Respuestas Técnicas Específicas (V5.0 - V8.0)
            "RENDIMIENTO": `**Rendimiento:** **Java** es significativamente más rápido que Python en ejecución pura porque se compila a **bytecode** (que corre en la JVM), mientras que Python es generalmente interpretado. Python es más rápido en el desarrollo, pero Java tiene la ventaja en la **velocidad de ejecución**.`,
            "FRAMEWORKS": `**Frameworks JS:** JavaScript domina el desarrollo web con **React**, **Angular** y **Vue** en el frontend. Para el backend, **Node.js** con frameworks como **Express** permite un stack completo (MERN/MEAN) basado en un único lenguaje.`,
            "ASINCRONIA": `**Programación Asíncrona:** En **JavaScript**, la asincronía es nativa a través de **Promises** y **Async/Await**, crucial para el I/O del navegador. En **Python**, se maneja con el módulo **asyncio** y la sintaxis \`async\`/\`await\`, siendo clave para aplicaciones de alta concurrencia.`,
            "OOP_CONCEPTO": `**Programación Orientada a Objetos (OOP):** **Java** es puramente OOP y basado en clases. **Python** también usa clases. **JavaScript** usa un modelo basado en **prototipos** tradicionalmente, aunque la sintaxis de clases moderna simplifica la implementación de OOP.`,
            "DB_CONN": `**Conexión a Bases de Datos:** **Java** utiliza **JDBC** (Java Database Connectivity), un estándar industrial. **Python** se beneficia de ORMs maduros como **SQLAlchemy** y **Django ORM**. **JavaScript (Node.js)** usa ORMs como **Sequelize** o **Prisma** para manejar bases de datos relacionales y librerías nativas para NoSQL como MongoDB.`,
            "APIS": `**Desarrollo de APIs:** **Java** es ideal para microservicios de alto rendimiento con **Spring Boot**. **Python** utiliza frameworks minimalistas como **Flask** o completos como **Django REST Framework**. **JavaScript (Node.js)** usa **Express.js** como estándar de facto para APIs **RESTful** ligeras y rápidas.`,
            "SEGURIDAD": `**Principios de Seguridad:** Un desarrollo seguro requiere **validación estricta de entrada de datos** (para prevenir inyección SQL/XSS) y el uso de **dependencias actualizadas**. Siempre implemente **autenticación** y **autorización** robustas, y evite exponer credenciales directamente en el código fuente.`,
            "DOCKER": `**Docker/Contenedores:** Permite empaquetar una aplicación y todas sus dependencias en un **contenedor** portable. Esto garantiza que el entorno de desarrollo sea idéntico al de producción, eliminando los problemas de "en mi máquina funciona".`,
            "GIT": `**Control de Versiones (Git):** Es esencial para la colaboración. **Git** rastrea cada cambio en el código, permitiendo volver a estados anteriores o trabajar en ramas (**branches**) sin afectar el código principal. Comandos clave: \`commit\`, \`push\`, \`pull\` y \`merge\`.`,
            "CLOUD": `**Cloud Computing (La Nube):** Plataformas como **AWS**, **Azure** y **GCP** ofrecen recursos (servidores, bases de datos, redes) bajo demanda, permitiendo a los desarrolladores enfocarse en el código. Es fundamental para la **escalabilidad horizontal** y la **alta disponibilidad**.`,
            "PATRONES_DISENO": `**Patrones de Diseño:** Soluciones probadas y recurrentes a problemas comunes de diseño de software. Por ejemplo, el patrón **Factory** gestiona la creación de objetos, y el patrón **Singleton** asegura que solo exista una instancia de una clase. Son clave para el código **modular** y **reutilizable**.`,
            "AGILE": `**Metodologías Ágiles:** Conjuntos de prácticas (como **Scrum** y **Kanban**) que promueven el desarrollo iterativo, la entrega continua y la colaboración. Se enfocan en adaptarse al cambio en lugar de seguir un plan rígido.`,
            "NETWORKING": `**Networking y Protocolos:** La comunicación web se basa en el protocolo **HTTP/HTTPS**. Las APIs generalmente implementan **REST**, que define un conjunto de principios para la transferencia de recursos utilizando verbos HTTP (**GET, POST, PUT, DELETE**).`,

            // Nuevas Respuestas Técnicas Específicas (V11.0)
            "TESTING_DETAIL": `**Frameworks de Testing Detallados:** En **JavaScript**, **Jest** domina por su velocidad y mocking (simulación de dependencias). **Java** usa **JUnit 5** como estándar para unit testing y **TestNG** para pruebas funcionales. **Python** se apoya en la simpleza de **Pytest**, preferido por la comunidad sobre \`unittest\` por su sintaxis más limpia.`,
            "PYTHON_DATA_WEB_NEW": `**Web para Ciencia de Datos (Python):** Para aplicaciones web centradas en datos y visualización, se recomienda usar **Streamlit** o **Dash**. **Streamlit** permite convertir scripts de Python en apps web interactivas sin HTML/CSS/JS. **Dash** (basado en Flask y React) es ideal para dashboards complejos con alta reactividad.`
        };

        // --- Lógica de Análisis de Consultas Avanzada ---
        function findResponse(question) {
            const q = question.toUpperCase();

            // Palabras clave de intención de código (Generame, codigo, ejemplo, muestra, algo, dame)
            const isCodeRequest = q.includes("CODIGO") || q.includes("EJEMPLO") || q.includes("MUESTRA") || q.includes("ALGO") || q.includes("DAME") || q.includes("GENER");
            
            // 1. Manejo de Solicitudes de Código (ALTA PRIORIDAD)
            if (isCodeRequest) {
                if (q.includes("PYTHON") || q.includes("FLASK") || q.includes("DJANGO")) {
                    return RESPONSES["PYTHON_WEB"];
                }
                if (q.includes("JAVASCRIPT") || q.includes("JS") || q.includes("NODE") || q.includes("REACT")) {
                    return RESPONSES["JS_EXAMPLE"];
                }
                if (q.includes("JAVA") || q.includes("SPRING")) {
                    return RESPONSES["JAVA_EXAMPLE"];
                }
                return RESPONSES["CODIGO_GENERICO"]; // Si pide código, pero no especifica lenguaje.
            }

            // 2. Respuestas de Conversación
            if (q.includes("HOLA") || q.includes("SALUDOS") || q.includes("BUENOS DIAS")) return RESPONSES["HOLA"];
            if (q.includes("GRACIAS") || q.includes("THANK")) return RESPONSES["GRACIAS"];
            if (q.includes("QUIEN") || q.includes("ERES")) return RESPONSES["IDENTIDAD"];
            if (q.includes("SABES") || q.includes("CONOCIMIENTO")) return RESPONSES["CAPACIDADES"];
            if (q.includes("AYUDAS") || q.includes("ASISTIR") || q.includes("PUEDES")) return RESPONSES["ASISTENCIA"];


            // 3. Respuestas Técnicas Avanzadas (V11.0, V8.0, V7.0)
            if (q.includes("TESTING") || q.includes("PRUEBAS") || q.includes("JUNIT") || q.includes("PYTEST") || q.includes("JEST")) return RESPONSES["TESTING_DETAIL"];
            if (q.includes("STREAMLIT") || q.includes("DASH") || q.includes("CIENCIA DE DATOS") || q.includes("DATA WEB")) return RESPONSES["PYTHON_DATA_WEB_NEW"];
            if (q.includes("CLOUD") || q.includes("AWS") || q.includes("AZURE") || q.includes("GCP")) return RESPONSES["CLOUD"];
            if (q.includes("PATRONES") || q.includes("SINGLETON") || q.includes("FACTORY") || q.includes("DISENO") || q.includes("DISEÑO")) return RESPONSES["PATRONES_DISENO"];
            if (q.includes("AGILE") || q.includes("SCRUM") || q.includes("KANBAN") || q.includes("METODOLOGIA")) return RESPONSES["AGILE"];
            if (q.includes("DOCKER") || q.includes("CONTENEDORES") || q.includes("CONTAINERS")) return RESPONSES["DOCKER"];
            if (q.includes("GIT") || q.includes("VERSIONES") || q.includes("GITHUB") || q.includes("BITBUCKET") || q.includes("COMMIT")) return RESPONSES["GIT"];

            // 4. Respuestas de Temas Principales (Definiciones/Descripciones)
            if (q.includes("PYTHON")) return RESPONSES["PYTHON"];
            if (q.includes("JAVASCRIPT") || q.includes("JS")) return RESPONSES["JAVASCRIPT"];
            if (q.includes("JAVA")) return RESPONSES["JAVA"];
            
            // 5. Default
            return RESPONSES["DEFECTO"];
        }
        // ---------------------------------------------

        inputForm.addEventListener('submit', function(e) {
            e.preventDefault(); 
            
            const question = userInput.value.trim();
            if (question === "") return;

            // 1. Mostrar la pregunta del usuario con formato de consola
            appendMessage(`&gt; Usuario@DevHost: ${question}`, 'user-prompt');

            // 2. Procesar la pregunta usando la nueva lógica de palabras clave
            const responseText = findResponse(question);

            // 3. Simular el tiempo de procesamiento de la IA
            setTimeout(() => {
                appendMessage(`&gt; **Asistente DEV:** ${responseText}`, 'ai-response');
                // Scroll hacia abajo
                chatHistory.scrollTop = chatHistory.scrollHeight;
            }, 1000); 

            // 4. Limpiar la entrada
            userInput.value = '';
        });

        function appendMessage(text, className) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${className}`;
            // Reemplaza markdown **negritas** y bloques de código ````
            let formattedText = text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
            
            // Manejar bloques de código usando PRE y escapar HTML dentro
            formattedText = formattedText.replace(/```(\w+)?\n([\s\S]*?)```/g, (match, lang, code) => {
                // Escapar HTML dentro del código para evitar inyección
                const escapedCode = code.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
                const langDisplay = lang ? `(${lang.toUpperCase()})` : '';
                return `<pre>${escapedCode.trim()}</pre>`;
            });

            messageDiv.innerHTML = formattedText; 
            chatHistory.appendChild(messageDiv);
        }

        window.onload = () => {
             chatHistory.scrollTop = chatHistory.scrollHeight;
        };

    </script>
</body>
</html>
